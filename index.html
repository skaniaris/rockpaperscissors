<!DOCTYPE html>
<html>
    <head>
        <title>RockPaperScissors</title>
        <meta charset="UTF-8">
        
    </head>
    <body>
        <h1> Rock, Paper, Scissors</h1>
        <h3> Best of five. Choose one.</h3>

            <button id = 'rock'>Rock</button>
            <button id = 'paper'>Paper</button>
            <button id = 'scissor'>Scissors</button> 

        <div id='results'>
            <h2></h2>
        </div>

        <h2>Score</h2>

        <div id ='score'>
        <div>

        <script>
 
            let playerEndScore = 0; 
            let computerEndScore = 0; 
            let roundNumber = 0; 
            
            let computerSelection; 
            let playerSelection; 

            const results = document.getElementById('results'); 
            results.style.border = 'solid black'; 
            results.style.height = '300px'; 
            results.style.margin = '20px 0px';
            results.style.width = '300px';

            const score = document.getElementById('score');
            score.style.border = 'solid black';
            score.style.height = '200px';
            score.style.margin = '20px 0px';
            score.style.width = '300px';
        

            const lineBr = document.createElement('br'); 

            const buttons = document.querySelectorAll('button'); 
            buttons.forEach((button) => {
                button.addEventListener('click', () => {
                playerSelection = button.id; 
                console.log(playerSelection); 
                playGame(); 
                }); 
            }); 

            
            function computerPlay() {
                let rockpapsci = ['rock', 'paper', 'scissor']; 
                let randomNumber = Math.floor(Math.random()*rockpapsci.length); 
                computerSelection = rockpapsci[randomNumber]; 
            }

            function playGame() {
              roundNumber ++; 
              computerPlay();   
              playRound(playerSelection,computerSelection); 
              results.appendChild(lineBr); 
              console.log(roundNumber); 
            }
           
            function playRound(select1, select2) {  
                while (roundNumber <= 5) {
                    if (select1 === select2) {
                        results.innerHTML += 'Its a tie, no points'; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore; 
                        score.appendChild(lineBr); 
                        score.innerHTML += 'Your Score: ' + playerEndScore; 
                        score.appendChild(lineBr); 
                        score.innerHTML += 'Round Number: ' + roundNumber; 

                } else if (select1 !== select2) {
                while (select1 === 'rock') {
                    if (select2 ==='scissor') {
                        results.innerHTML += 'You win, rock beats scissors'; 
                        
                        playerEndScore = playerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break; 
                    } else if (select2 === 'paper') {
                        results.innerHTML += 'Computer wins, paper beats rock'; 
                        
                        computerEndScore = computerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break; 
                    } else {
                       results.innerHTML += 'something went wrong 2';
                       break; 
                    }
                    
               
                } while (select1 === 'paper') {
                    if (select2 ==='scissor') {
                        results.innerHTML +='Computer wins, scissors beats paper'; 
                        
                        computerEndScore = computerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break; 
                    } else if (select2 === 'rock') {
                        results.innerHTML += 'You win, paper beats rock';
                        
                        playerEndScore = playerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break;  
                    } else {
                        results.innerHTML += 'something went wrong 3'; 
                        break; 
                    }
        
                }
                    while (select1 === 'scissor') {
                    if (select2 ==='paper') {
                        results.innerHTML += 'You win, scissors beat paper'; 
                        
                        playerEndScore = playerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break; 
                    } else if (select2 === 'rock') {
                        results.innerHTML += 'Computer wins, rock beats scissors'; 
                        
                        computerEndScore = computerEndScore + 1; 

                        score.innerHTML = 'Computer Score: ' + computerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Your Score: ' + playerEndScore;
                        score.appendChild(lineBr);
                        score.innerHTML += 'Round Number: ' + roundNumber;

                        break; 
                    } else {
                        results.innerHTML += 'something went wrong 4'; 
                        break; 
                    }
        
                }
            }  
                if (roundNumber === 5) {
                    if (computerEndScore > playerEndScore) {
                        score.appendChild(lineBr); 
                        score.innerHTML += 'Computer wins. You lose.'; 
                    } else if (playerEndScore > computerEndScore) {
                        score.appendChild(lineBr); 
                        score.innerHTML += 'You win! Computer loses.'; 
                    }
                }

                break; 

                }
                  
                }
               

        </script>
    </body>
</html>